# tistory-table-of-contents
티스토리 [#1] 스킨전용 TOC

## 기능 명세

- 티스토리 게시글에서 h1, h2, h3 태그를 추출해 TOC를 동적으로 만들어 준다.
- h1, h2, h3 태그는 depth에 따라 Tab과 글자 크기로 구분한다.
- h1 태그가 없으면 h2 태그가 최상위 항목, h2 태그도 없으면 h3 태그로만 이루어진 TOC를 만들어 준다.
<br/>

- TOC 항목을 클릭하면, 해당 태그가 있는 곳으로 이동하는 스크롤 이벤트가 발생한다.
- 사용자가 스크롤을 내리면, 현재 사용자의 위치를 TOC 항목에 CSS를 걸어 동적으로 표시해 준다.
<br/>

- 만약 태그가 너무 많아서 지정한 max-height를 넘어 가면, TOC에 스크롤이 생긴다.
- TOC 스크롤이 생긴 후에는 보이지 않는 아래 쪽 항목으로 게시글 뷰가 이동하면 TOC도 같이 따라 스크롤이 내려간다.
<br/>

- TOC가 이동할 수 있는 범위를 게시글 범위로 제한한다. 예를 들어 맨 아래쪽 댓글 영역까지 침범하지 않도록 한다.
- 가능하다면 TOC 사용자가 지정할 수 있는 설정들을 한 곳에 몰아 둔다. 예를 들어 컴포넌트의 위치값, max-height 등.
- 화면의 가로 길이에 따라 동적으로 사라져야 한다. 태블릿 이하의 크기에서는 보이지 않도록.

## 적용 방법

개발 중...

## Wanted & 한계점

- 일단 깔끔하고 예뻤으면 좋겠다.
- Vue로 작성하고, 이번 기회에 Vuetify 대신 [Element.io](https://element.eleme.io/#/en-US)를 한 번 적용해 보고 싶었다. 근데 적용할 수 있는 컴포넌트가 하나다(..) 결국 개발 도중에 vue로 만든걸 다시 css/js로 수정했다.
- 범용적으로 적용할 수 있게 만들고 싶은데, 스킨 수정 작업 자체가 티스토리라는 플랫폼에 의존적이기 때문에 완전히 독립적이기는 어려울 듯 하다. 스킨 종류의 제약도 많이 받는다. 일단 내가 쓸거니까 내거에 맞춰야지.
